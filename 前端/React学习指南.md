# React学习指南

# 一、基础知识

## JS

|                                                              | 说明 |                    |
| ------------------------------------------------------------ | ---- | ------------------ |
| [学习CSS布局](http://zh.learnlayout.com/)                    |      | 优秀               |
| [廖雪峰 JavaScript教程](https://www.liaoxuefeng.com/wiki/001434446689867b27157e896e74d51a89c25cc8b43bdb3000) |      | 优秀教程           |
| [阮一峰 ecmascript6教程](http://es6.ruanyifeng.com)          |      |                    |
| [MDN WEB DOCS](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript) |      |                    |
| [JavaScript 教程](https://wangdoc.com/javascript/index.html) |      |                    |
| [w3school CSS](http://www.w3school.com.cn/css/index.asp)     |      |                    |
| [reacttingtrainning router](https://reacttraining.com/react-router/) |      | 非常实用的在线demo |



## React

| 站点                   |                                                              |                  |
| ---------------------- | ------------------------------------------------------------ | ---------------- |
| react官网              | https://reactjs.org                                          | 必备站点，最主要 |
| react中文站点          | https://react.docschina.org                                  |                  |
| React Runboob          | http://www.runoob.com/react/react-tutorial.html              |                  |
|                        |                                                              |                  |
| Flutter中文网          | https://flutterchina.club                                    |                  |
| React Native中文       | https://reactnative.cn/                                      |                  |
| React Native英文       | http://facebook.github.io/react-native/                      |                  |
| React router trainning | https://reacttraining.com/react-router/                      |                  |
| Less                   | https://less.bootcss.com/                                    |                  |
| antd                   | [antd](https://ant.design/docs/react/introduce-cn)    [antd pro](https://pro.ant.design/docs/getting-started-cn) |                  |



## Redux

|                                                              |                                                              |      |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ---- |
| 阮一峰 Redux 入门教程                                        | [（一）](http://www.ruanyifeng.com/blog/2016/09/redux_tutorial_part_one_basic_usages.html)   [（二）](http://www.ruanyifeng.com/blog/2016/09/redux_tutorial_part_two_async_operations.html)  [（三）](http://www.ruanyifeng.com/blog/2016/09/redux_tutorial_part_three_react-redux.html) |      |
| Redux官方视频                                                | https://egghead.io/courses/getting-started-with-redux        |      |
| Redux官方文档                                                | https://redux.js.org/introduction/getting-started            |      |
| React Redux Tutorial for Beginners: The Definitive Guide (2019) | https://www.valentinog.com/blog/redux/                       |      |



### dva

| 知识点                                                       |                                                         |                                                              |
| ------------------------------------------------------------ | ------------------------------------------------------- | ------------------------------------------------------------ |
| dva                                                          |                                                         | https://github.com/dvajs/dva<br>指南：https://dvajs.com/guide<br>图解 https://dvajs.com/guide/fig-show.html#%E5%9B%BE%E8%A7%A3%E4%BA%8C-redux-%E8%A1%A8%E7%A4%BA%E6%B3%95 |
| effect                                                       |                                                         | https://dvajs.com/guide/introduce-class.html#effect          |
| umi                                                          |                                                         | https://umijs.org/                                           |
| umi-dva                                                      | [demo](https://github.com/umijs/umi-dva-user-dashboard) | [demo解析](https://github.com/sorrycc/blog/issues/62)        |
| [dva理论到实践——帮你扫清dva的知识盲点](https://www.jianshu.com/p/e184cd6d253c) |                                                         |                                                              |
| [dva.js 知识导图](https://github.com/dvajs/dva-knowledgemap#reducer) |                                                         |                                                              |



## RN

### 源码

[react native github地址](https://github.com/facebook/react-native)

一些可以参考的APP

[zulip-mobile](https://github.com/zulip/zulip-mobile)

[moonwalk](https://github.com/Illu/moonwalk)

[duckduckgo](https://github.com/kiok46/duckduckgo)

[git-point](https://github.com/gitpoint/git-point)



### 其他收藏

[awesome-react-native](https://github.com/jondot/awesome-react-native)

[React-Native学习指南](https://github.com/reactnativecn/react-native-guide)

[React Native 研究与实践 github收藏](https://github.com/crazycodeboy/RNStudyNotes/)



# 二、视频教程

## React 基础

| 视频                                                | 地址                                                         | 说明                              |
| --------------------------------------------------- | ------------------------------------------------------------ | --------------------------------- |
| 诱人的 react 视频教程-基础篇                        | https://www.rails365.net/playlists/you-ren-de-react-shi-pin-jiao-cheng-ji-chu-pian | 1个半小时。已看。                 |
| 慕课网：React16.4 快速上手                          | [视频地址](https://www.imooc.com/learn/1023)                 | 1个小时。已看，精简，流程。优秀。 |
| 共享单车                                            | [项目演示](http://imoocms.51purse.com/#/home)  [视频地址](https://www.bilibili.com/video/av37428567/?p=15)       [笔记](https://github.com/lz109896/React?1552608077460)       [源码加笔记](https://github.com/wenshaofeng/bikeMs) |                                   |
| React简书项目                                       | [视频地址](https://www.bilibili.com/video/av37670968)  [代码地址](https://github.com/CruxF/IMOOC/tree/master/React?1550110613898)： | 待看。                            |
| React教程_React router4.x Antd Flux入门实战视频教程 | https://www.bilibili.com/video/av38372336/?spm_id_from=333.788.videocard.1 |                                   |
|                                                     |                                                              |                                   |
| React 45讲-极客时间出品                             | https://www.bilibili.com/video/av39386115                    | 各种知识点串讲                    |
|                                                     |                                                              |                                   |
| YouTube搜索                                         | https://www.youtube.com/results?search_query=redux&sp=CAA%253D | 备用                              |
|                                                     |                                                              |                                   |



# 三、知识点梳理

| 知识点                         | 简介                                                         | 相关                                                         | 说明 |
| ------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ---- |
| 解构赋值                       |                                                              | https://blog.csdn.net/m0_37263637/article/details/79964874、<br>https://javascript.info/destructuring-assignment |      |
| antd desgin pro                |                                                              | https://pro.ant.design/docs/getting-started-cn               |      |
| redux                          |                                                              | 官网：https://redux.js.org/<br>中文 https://www.redux.org.cn/         https://cn.redux.js.org/<br>[Redux入门教程（快速上手）](https://segmentfault.com/a/1190000011474522) |      |
| @connect                       |                                                              | https://www.jianshu.com/p/d07ccef9f4f0                       |      |
|                                |                                                              |                                                              |      |
| umi                            |                                                              | https://umijs.org/guide<br>中文：https://umijs.org/zh/guide/ |      |
|                                |                                                              |                                                              |      |
| …扩展运算符                    | **展开语法(Spread syntax),** 可以在函数调用/数组构造时, 将数组表达式或者string在语法层面展开；还可以在构造字面量对象时, 将对象表达式按key-value的方式展开。(**译者注**: 字面量一般指 `[1, 2, 3]` 或者 `{name: "mdn"}` 这种简洁的构造方式) | https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Spread_syntax#%E5%89%A9%E4%BD%99%E8%AF%AD%E6%B3%95%EF%BC%88%E5%89%A9%E4%BD%99%E5%8F%82%E6%95%B0%EF%BC%89 |      |
| loadash                        |                                                              | https://www.html.cn/doc/lodash/                              |      |
| state{list:list} 为state{list} | 如果state中，key和value同名，则可以省略一个。                |                                                              |      |
| 数据传递                       | 父组件向子组件传值：prop，子组件向父组件传值，调用父组件传递过来的方法。 |                                                              |      |
| bind                           | 方法的bind(this)。constructor里绑定，性能更好。如果不进行bind，就写成箭头函数。 |                                                              |      |
| {}                             | {}，这是表达式，{ {对象} }，外层是表达式，里层表示对象。     |                                                              |      |
|                                | css样式，class需要写成className。                            |                                                              |      |
|                                | React.Fragment，可以代替div，但是渲染后，不会真正显示div。   |                                                              |      |
| 组件生命周期                   | willMount请求网络，render                                    |                                                              |      |
| fetch                          |                                                              | [React 快速上手 - 09 数据请求 fetch](https://segmentfault.com/a/1190000015049343) |      |
| 更新state的写法                | 1.原生写法：...或者Object.assign<br>2.immer，新出的工具类<br>3.immutability-helper. |                                                              |      |
| mock数据                       | easymock平台，基于mockjs规范，了解mockjs规范。               |                                                              |      |
| http请求                       | [axios](https://github.com/axios/axios)                      |                                                              |      |
| Loading处理                    |                                                              |                                                              |      |
| 错误拦截                       |                                                              |                                                              |      |
| ???                            | saveInputRef = input => this.input = input;                  |                                                              |      |
| 表单提交Enter Press            | 1. [The Enter Key should Submit Forms, Stop Suppressing it](https://www.tjvantoll.com/2013/01/01/enter-should-submit-forms-stop-messing-with-that/)<br>2. [Press Enter to Submit 背后的那些事](http://david-chen-blog.logdown.com/posts/177766-how-forms-submit-when-pressing-enter) |                                                              |      |
| React Ref                      | [React ref属性使用](https://www.jianshu.com/p/6868174b0b34)  |                                                              |      |
|                                |                                                              |                                                              |      |

## antd

| 知识点                  | 简介                                                         | 相关 | 说明 |
| ----------------------- | ------------------------------------------------------------ | ---- | ---- |
| render                  | render里面定义的变量，直接使用就行。但是如果定义在reder外面，就需要this.state.这种形式引用。 |      |      |
| 基于umi的Ant Design介绍 | <https://blog.csdn.net/eunice_sytin/article/details/83542476> |      |      |
|                         |                                                              |      |      |



# 四、BD项目

## BD项目入门



## 架构

web 前端

web-services 后端

modules 基础组件



### 运行

1. bd-install

![image-20190228182736629](http://blog-1251606168.file.myqcloud.com/blog/2019-02-28-102737.png)



1. 然后再分别再maven plugin中生成tomcat的运行

bd-webservice\bd-web



1. 生成bd

同样针对~/Work/bd/production/web/src/main/js/package.json 环境下：

![image-20190228182950069](http://blog-1251606168.file.myqcloud.com/blog/2019-02-28-102957.png)





## 前端-Antd design pro概述

### 目录结构——重要

├── config                   # umi 配置，包含路由，构建等配置
├── mock                     # 本地模拟数据
├── public
│   └── favicon.png          # Favicon
├── src
│   ├── assets               # 本地静态资源
│   ├── components           # 业务通用组件
│   ├── e2e                  # 集成测试用例
│   ├── layouts              # 通用布局
│   ├── models               # 全局 dva model
│   ├── pages                # 业务页面入口和常用模板
│   ├── services             # 后台接口服务
│   ├── utils                # 工具库
│   ├── locales              # 国际化资源
│   ├── global.less          # 全局样式
│   └── global.js            # 全局 JS
├── tests                    # 测试工具
├── README.md
└── package.json



### 基础配置

`config/config.js`



```js
// 界面后面请求的前缀，在app.js中的接口
define: {
    APP_TYPE: process.env.APP_TYPE || '',
    'process.env.url.prefix' : '/bd',
},
  
    // 接口转发，所有的前端接口最后都会打到target下。
   proxy: {
      '/bd/': {
        target: 'http://adminlocal.jd.com:7878/',
        changeOrigin: true,
        pathRewrite: { '^/bd': '' },
      },
    },
```





### 路由和菜单

目前脚手架中所有的路由都通过 [`router.config.js`](https://github.com/ant-design/ant-design-pro/blob/master/config/router.config.js) 来统一管理，在 umi 的配置中我们增加了一些参数，如 `name`,`icon`,`hideChildrenInMenu`,`authority`，来辅助生成菜单。其中：

- `name` 和 `icon`分别代表生成菜单项的文本和图标。

- `hideChildrenInMenu` 用于隐藏不需要在菜单中展示的子路由。用法可以查看 `分步表单` 的配置。

- `hideInMenu` 可以在菜单中不展示这个路由，包括子路由。效果可以查看 `exception/trigger`页面。

- `authority` 用来配置这个路由的权限，如果配置了将会验证当前用户的权限，并决定是否展示。

  > 你可能注意到配置中的 `name` 和菜单实际展示的不同，这是因为我们使用了全球化组件的原因，具体参见 [i18n](https://pro.ant.design/docs/i18n-cn)



[`router.config.js`](https://github.com/ant-design/ant-design-pro/blob/master/config/router.config.js) 是一个数组，其中第一级数据就是我们的布局，如果你需要新增布局可以再直接增加一个新的一级数据。



## 执行流

在 Ant Design Pro 中，一个完整的前端 UI 交互到服务端处理流程是这样的：

1. UI 组件交互操作；——对应目录pages/
2. 调用 model 的 effect；——对应目录：mode/，此处写网络请求。
3. 调用统一管理的 service 请求函数；——对应目录：/service/app.js，此处封装好API。
4. 使用封装的 request.js 发送请求；
5. 获取服务端返回；
6. 然后调用 reducer 改变 state；
7. 更新 model。



统一的请求处理都放在 `services` 文件夹中，并且一般按照 model 维度进行拆分文件。

其中，`utils/request.js` 是基于 [fetch](https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch) 的封装，便于统一处理 POST，GET 等请求参数，请求头，以及错误提示信息等。具体可以参看 [request.js](https://github.com/ant-design/ant-design-pro/blob/master/src/utils/request.js)。

 

### dva

[dva数据流向](https://dvajs.com/guide/concepts.html#%E6%95%B0%E6%8D%AE%E6%B5%81%E5%90%91)

![](https://zos.alipayobjects.com/rmsportal/PPrerEAKbIoDZYr.png)



配置路由表，`router.js`

```js
      {
        "path": "/partner/enter",
        "icon": "flag",
        "name": "partner",
        "authority": [
          "partner"
        ],
        "routes": [
          {
            "path": "/partner/enter/partner-list",
            "name": "enter",
            "authority": [
              "partner"
            ],
            "component": _dvaDynamic({
  
  component: () => import('../合作方入驻/我的入驻/Partner'),
  LoadingComponent: require('/Users/wenghengcong/Work/bd/production/web/src/main/js/src/components/PageLoading/index').default,
}),
            "exact": true
          },
          }
```



### UMI

```text
├── dist/                          // 默认的 build 输出目录
├── mock/                          // mock 文件所在目录，基于 express
├── config/
    ├── config.js                  // umi 配置，同 .umirc.js，二选一
└── src/                           // 源码目录，可选
    ├── layouts/index.js           // 全局布局
    ├── pages/                     // 页面目录，里面的文件即路由
        ├── .umi/                  // dev 临时目录，需添加到 .gitignore
        ├── .umi-production/       // build 临时目录，会自动删除
        ├── document.ejs           // HTML 模板
        ├── 404.js                 // 404 页面
        ├── page1.js               // 页面 1，任意命名，导出 react 组件
        ├── page1.test.js          // 用例文件，umi test 会匹配所有 .test.js 和 .e2e.js 结尾的文件
        └── page2.js               // 页面 2，任意命名
    ├── global.css                 // 约定的全局样式文件，自动引入，也可以用 global.less
    ├── global.js                  // 可以在这里加入 polyfill
    ├── app.js                     // 运行时配置文件
├── .umirc.js                      // umi 配置，同 config/config.js，二选一
├── .env                           // 环境变量
└── package.json
```

路由功能

### src/pages

注：配置式路由下无效。



### src/pages/.umi

这是 umi dev 时生产的临时目录，默认包含 `umi.js` 和 `router.js`，有些插件也会在这里生成一些其他临时文件。可以在这里做一些验证，**但请不要直接在这里修改代码，umi 重启或者 pages 下的文件修改都会重新生成这个文件夹下的文件。**



### 权限

umi 的权限路由是通过配置路由的 `Routes` 属性来实现。约定式的通过 yaml 注释添加，配置式的直接配上即可。

```js
[
  { path: '/', component: './pages/index.js' },
  { path: '/list', component: './pages/list.js', Routes: ['./routes/PrivateRoute.js'] },
]
```



## BD项目实际流程

### 路由

```js
export default [
  // 合作方门户
  {
    path: '/partner',
    component: '../layouts/BasicLayout',		// 指定以下页面的布局
    Routes: ['src/pages/Authorized'],			// 权限路由
    routes: [
      // 首页
      {path: '/partner', redirect: '/partner/default/home'},
      //默认首页
      {
        path: '/partner/default/home',
        component: './HomePage/index',
      },
      //合作方门户 - 合作方入驻
      {
        path: '/partner/enter',
        icon: 'flag',
        name: 'partner',
        authority: ['partner'],	//用来配置这个路由的权限，如果配置了将会验证当前用户的权限，并决定是否展示。
        routes: [
          {
            path: '/partner/enter/partner-list', //代码中用到的跳转路径
            name: 'enter',
            authority: ['partner'], //用来配置这个路由的权限，如果配置了将会验证当前用户的权限，并决定是否展示。
            component: './合作方入驻/我的入驻/Partner',	//网页上显示的路径，component 是相对于 src/pages 目录的
          },
          {
            path: '/partner/enter/partner-edit',
            name: '',
            authority: ['partner'],
            component: './合作方入驻/我的入驻/合作方编辑/PartnerEdit',
          },
          {
            path: '/partner/enter/partner-store-list',
            name: 'store',
            authority: ['partner'],
            component: './合作方入驻/我的门店/Store',
          },
          {
            path: '/partner/enter/store-edit',
            name: '',
            authority: ['partner'],
            component: './合作方入驻/我的门店/门店编辑/StoreEdit',
          },
          {
            path: '/partner/enter/store-batch-update',
            name: '',
            authority: ['partner'],
            component: './合作方入驻/我的门店/批量上传/BatchUpdate',
          },
          {
            path: '/partner/enter/partner-benefits-list',
            name: 'benefits',
            authority: ['partner'],
            component: './合作方入驻/我的权益/Benefits',
          },
          {
            path: '/partner/enter/partner-benefits-edit',
            name: '',
            authority: ['partner'],
            component: './合作方入驻/我的权益/编辑/BenefitsEdit',
          },
        ]
      },
      //合作方门户 - 活动中心
      {
        path: '/partner/activity',
        icon: 'tags',
        name: 'activity',
        authority: ['partner'],
        routes: [
          {
            path: '/partner/activity/1',
            name: '1',
            authority: ['partner'],
            component: './合作方门户/活动中心/活动参与/index',
          },
          {
            path: '/partner/activity/2',
            name: '2',
            authority: ['partner'],
            component: './合作方门户/活动中心/活动跟踪/index',
          },
        ]
      },
}
```



### 网络及跳转实例

PartnerEdit.js



#### 1.ui

```js
<Button type="primary" onClick={this.validate} loading={loading}>
  提交
</Button>
```



#### 2.请求

```js
 validate = () => {
    const {
      form: {validateFieldsAndScroll},
      dispatch,
    } = this.props;
    let tag = true;
    let param = {};
     // antd form校验
    validateFieldsAndScroll((error, values) => {
      if (error) {
        tag = false;
      } else {
        param = values;
      }
    });
    if (!tag) {
      return;
    }

    param.id = this.state.id;
    param.startTime = param.time[0].format("YYYY-MM-DD HH:mm:ss");
    param.endTime = param.time[1].format("YYYY-MM-DD HH:mm:ss");
    delete param.time;
	// dispatch
    dispatch({
      type: 'partnerList/editPartner',
      payload: param,
        // 返回
      callback: (data) => {
        if (data && data.success) {
          this.info('success', this.state.id ? "商家编辑成功" : "商家创建成功");
        } else if (data && !data.success) {
          //this.info('warning',data.errorMsg);
        } else {
          this.info('error', this.state.id ? "商家编辑失败" : "商家创建失败");
        }
      }
    });
  };
```



#### 3.获得返回数据后：

```js
  info = (type, msg) => {
    const {dispatch} = this.props;
    if (type == 'success') {
      Modal.success({
        title: '成功',
        content: msg,
        onOk() {
            // 跳转页面
          dispatch(routerRedux.push(`partner-list`));
        }
      });
    } else if (type == 'warning') {
      Modal.warning({
        title: '提示',
        content: msg,
      });
    } else {
      Modal.error({
        title: '错误',
        content: msg,
      });
    }
  }
```



#### 4.partner-list地址

 dispatch(routerRedux.push(`partner-list`));

`config/router.config.js` 配置好

```
      //合作方门户 - 合作方入驻
      {
        path: '/partner/enter',
        icon: 'flag',
        name: 'partner',
        authority: ['partner'],
        routes: [
          {
            path: '/partner/enter/partner-list',
            name: 'enter',
            authority: ['partner'],
            component: './合作方入驻/我的入驻/Partner',
          },
          }
```





 `.umi/` : dev 临时目录，需添加到 .gitignore

`.umi/router.js`

```js
  {
        "path": "/partner/enter",
        "icon": "flag",
        "name": "partner",
        "authority": [
          "partner"
        ],
        "routes": [
          {
            "path": "/partner/enter/partner-list",
            "name": "enter",
            "authority": [
              "partner"
            ],
            "component": _dvaDynamic({
  
  component: () => import('../合作方入驻/我的入驻/Partner'),
  LoadingComponent: require('/Users/wenghengcong/Work/bd/production/web/src/main/js/src/components/PageLoading/index').default,
}),
            "exact": true
          },
          }
```





### 接口与Model

Partner.js



#### model

Partner.js页面下：

```js
@connect(({partnerList, loading}) => ({
    list: partnerList.data.list,
    pagination: partnerList.data.pagination,
    loading: loading.effects['role/getRoleList'], //loading是dva框架自带字段，所以此处需要调用model里面对应的网络请求，框架会自动把loading值调整。
}))
```

list、pagination数据来源于：model/partnerList.js

loading 来源于dva框架。



model中的partnerList.js请求

```jsx
 effects: {
    *fetch({ payload }, { call, put }) {
      const response = yield call(api.business.partnerList, payload);
      if (!response || !response.page) {
        return;
      }
      yield put({
        type: 'save',
        payload: response.page,
      });
    },
    }
```



#### 接口

上面call调用的是`api.business.partnerList`，API接口的写法：

正常接口的写法是：

```js
export async function removeRule(params) {
  return request('/api/rule', {
    method: 'POST',
    body: {
      ...params,
      method: 'delete',
    },
  });
}

export async function addRule(params) {
  return request('/api/rule', {
    method: 'POST',
    body: {
      ...params,
      method: 'post',
    },
  });
}
```

这里BD写法，采用了lodash框架，语法参考：https://www.html.cn/doc/lodash/

```jsx
export default mapValues(apiURI,(value) => {
    return mapValues(value,(value) => {
        return async function api(payload) {
            return request(prefix + value.url, payload ? { method: 'POST',...value.option,
                body:  {...payload,},
            }:{method: 'POST',...value.option,});
        }
    });
});
```





### 数据流

#### 1.请求数据

对应web服务的url为 `api.business.partnerList` ->  `/partner/list`

```
    *fetch({ payload }, { call, put }) {
      const response = yield call(api.business.partnerList, payload);
      if (!response || !response.page) {
        return;
      }
      yield put({
        type: 'save',
        payload: response.page,
      });
    },
```



#### 2.保存数据

```
 yield put({
        type: 'save',
        payload: response.page,
      });
```

reducer如下：

```
   save(state, action) {
      return {
        ...state,
        data: action.payload,
      };
    },
```



#### 3.数据保存时映射

此处数据格式应该和服务器返回的一致。

```
 state: {
    data: {
      list: [],
      pagination: {},
    },
    loading: true,
  },
```



#### 4.调用

```jsx
// ...是扩展运算符，将后面的数组展开传入         
<CreateForm {...parentMethods} modalVisible={modalVisible} record={this.state.record}/>
```



```js
const CreateForm = Form.create()(props => {

  const { modalVisible, handleModalVisible,record } = props;

  const okHandle = () => {
    form.validateFields((err, fieldsValue) => {
      if (err) return;
      //form.resetFields();
      handleAdd(fieldsValue);
    });
  };

  const verifyList = record.verifyList;

    const handleOnCancel = () => {
        handleModalVisible(false);
    };

    return (
        <Modal
            width={1000}
            destroyOnClose
            title="查看详情"
            visible={modalVisible}
            onCancel={handleOnCancel}
            footer={[
                <Button key="submit" type="primary" onClick={() => handleModalVisible()}>
                    确定
                </Button>
            ]}>
            <Card type="inner" title="合作方信息">
                <DescriptionList size="small" style={{marginBottom: 16}}>
                    <Description term="合作方名称">{record.partnerName ? record.partnerName : ""}</Description>
                </DescriptionList>
                <Divider style={{margin: '16px 0'}}/>
                <DescriptionList size="small" style={{marginBottom: 16}} col="1">
                    <Description
                        term="入驻时间">{record.startTime ? moment(record.startTime).format('YYYY-MM-DD') : ""} ~ {record.endTime ? moment(record.endTime).format('YYYY-MM-DD') : ""}</Description>
                </DescriptionList>
                <Divider style={{margin: '16px 0'}}/>
                <DescriptionList size="small" style={{marginBottom: 16}}>
                    <Description term="合作方代理人">{record.agentName ? record.agentName : ""}</Description>
                    <Description term="联系方式">{record.agentTel ? record.agentTel : ""}</Description>
                    <Description term="对接商务经理">{record.bdManagerName ? record.bdManagerName : ""}</Description>
                </DescriptionList>
                <Divider style={{margin: '16px 0'}}/>
                <DescriptionList size="small" col="1" title='入驻原因'>
                    <Description>{record.remark ? record.remark : ""}</Description>
                </DescriptionList>
                <Divider style={{margin: '16px 0'}}/>
                <DescriptionList size="small" col="1" title='审批意见'>
                  <Description>
                    <Steps direction="vertical" size="small" current={1}>
                      {
                        (verifyList && verifyList.length>0)?(
                            verifyList.map((res)=>{
                              const type = res.operateType;
                              return <Step title={titleMap[type]} status={type < 2?"finish":"error"} description={
                                <div>
                                  <span>{res.name?res.name:undefined}</span>
                                  <br/>
                                  <span>{moment(res.createTime).format('YYYY-MM-DD HH:mm:ss')}</span>
                                  <br/>
                                  <span>{"审批意见：" + (res.verifyReason?res.verifyReason:"无")}</span>
                                </div>} />;
                            })
                        ):(<span></span>)

                      }
                    </Steps>

                  </Description>
                </DescriptionList>
            </Card>
        </Modal>
    );
});
```



# 共享单车项目

项目线上地址：http://imoocms.51purse.com/#/permission



## 知识点

|                |                                                              |      |
| -------------- | ------------------------------------------------------------ | ---- |
| less语法       | &: 伪类                                                      |      |
| calc计算       |                                                              |      |
| css3画三角形   | border-top有、border-left，border-right有，但是设置为透明就行。 |      |
| css中class     | 要写出className                                              |      |
| import导入样式 | 不需要用变量来接收                                           |      |
| js中写style    | js中写style是驼峰命名，但是在less中是小写加-。               |      |
| Router 4.0     | 第4章讲解                                                    |      |
|                |                                                              |      |
|                |                                                              |      |
|                |                                                              |      |

